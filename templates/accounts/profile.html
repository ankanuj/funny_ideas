{% extends 'base.html' %}
{% load static %}
{% block content %}
<section id="user_profile">
    <div class="container-fluid pt-4 pb-3">
        <div class="row pt-4 ">
            <div class="col-md-2">

            </div>
            <div class="col-md-3 pt-2">
                <div  class="container text-center pt-2" id="profile">
                    {% if profile.profile_photo %}
                    <img src="{{profile.profile_photo.url}}" id="user_img" class="rounded-circle image-responsive">
                    {% else %}      
                    <img src="{% static 'img/profile.jpg' %}" id="user_img" class="rounded-circle ">
                    {% endif %} 
                    <br>
                    <br>
                    <br> 
                    <center>
                              
                            <button type="button" class="btn btn-success" data-toggle="modal" data-target="#myModal">
                                Upload Image
                              </button>
                              </center>
                </div>

            </div>
            <div class="col-md-3 pt-5">
                <div class="container">
                    {% if user.is_authenticated %}   
                        <h4>{{user.first_name}} {{user.last_name}}</h4>
                        <h4>{{ user.email }}</h4>
                    {% endif %}
                    </div>

            </div>

        </div>
      
    </div>
    <!-- The Modal -->
    <div class="modal" id="myModal">
        <div class="modal-dialog">
              <div class="modal-content">

        <!-- Modal Header -->
            <div class="modal-header">
                  <h4 class="modal-title">Upload Image</h4>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

        <!-- Modal body -->
            <div class="modal-body">
                <form method="POST" action="{% url 'profile' %}" enctype="multipart/form-data">
                    {% csrf_token %}  <!-- security -->
                    
                    <div class="container">
                        <input type="file"name="profile_photo" class="form-control-file " required>
                        <br>
                        <button type="submit" class="btn btn-danger">upload</button>

                    </div>
                </form>
            </div>
</section>

{% endblock %}